---
title: "RFS wordcloud description"
output: word_document
---


# Libraries needed

```{r}
require(readxl)
require(xlsx)
require(tm)
require(NLP)
require(wordcloud)

```

## Reading the file


```{r}
RFS_total_file <- read_excel("C:/Users/kurbina/Desktop/RFS total file.xlsx")

```

## Converting the file to a data frame 


```{r}
RFS_total_file_Des<- as.data.frame(RFS_total_file$Description)
```




## Manage the file with VCorpus in order to make easier to clean


```{r}
Bodycorpus<-VCorpus(VectorSource(RFS_total_file_Des))

```


## Cleaning the text

```{r}
Bodycorpus<- tm_map(Bodycorpus, tolower)
Bodycorpus<- tm_map(Bodycorpus, removePunctuation)
Bodycorpus<- tm_map(Bodycorpus, removeNumbers)
Bodycorpus<- tm_map(Bodycorpus, stripWhitespace)
Bodycorpus<- tm_map(Bodycorpus, PlainTextDocument)

```

## Merging the words server and servers since are the same

```{r}
Bodycorpus<-tm_map(Bodycorpus, content_transformer(gsub), pattern = "servers", replacement = "server")

```



## Removing some the stopping words

```{r}


BodycorpusnoSW<- tm_map(Bodycorpus, removeWords, c(stopwords("english"),"will","rfs", "ibm", "request"))

```



## Making a word cloud without the stopping words


```{r}
wordcloud(BodycorpusnoSW, max.words = 50, random.order = FALSE,colors = brewer.pal(8,"Dark2") )

```

## get frequency of first 50  words




## Counting average of Word per each description line

```{r}
dtm <- DocumentTermMatrix(Bodycorpus)
```

## Sum of all word in the Entire document for Description

```{r}
Rsum<-rowSums(as.matrix(dtm))
```

## Rate number of words per line , in the description

```{r}
Rsum/nrow(RFS_total_file)
```

## Now we are going to do the same for the process title

```{r}


RFS_total_file_Title<- as.data.frame(RFS_total_file$`Process Title`)


```


## Create the corpus 

```{r}

Bodycorpustitle<-VCorpus(VectorSource(RFS_total_file_Title))

```

# Cleaning the text

```{r}

Bodycorpustitle<- tm_map(Bodycorpustitle, tolower)
Bodycorpustitle<- tm_map(Bodycorpustitle, removePunctuation)
Bodycorpustitle<- tm_map(Bodycorpustitle, removeNumbers)
Bodycorpustitle<- tm_map(Bodycorpustitle, stripWhitespace)
Bodycorpustitle<- tm_map(Bodycorpustitle, PlainTextDocument)


```

## Merging words Server and servers

```{r}
Bodycorpustitle<-tm_map(Bodycorpustitle, content_transformer(gsub), pattern = "servers", replacement = "server")


```

## Removing some the stopping words

```{r}

Bodycorpustitledone<- tm_map(Bodycorpustitle, removeWords, c(stopwords("english"),"will","rfs", "ibm", "request"))

```


## Making a word cloud without the stopping words


```{r}
wordcloud(Bodycorpustitledone, max.words = 50, random.order = FALSE,colors = brewer.pal(8,"Dark2") )

```

## Counting average of Word per each Process title line

```{r}
Ptitle <- DocumentTermMatrix(Bodycorpustitle)
```

## Sum of all word in the Entire document for Process title

```{r}
RsumTitle<-rowSums(as.matrix(Ptitle))
```

## Rate number of words per line , in the Process Title

```{r}
RsumTitle/nrow(RFS_total_file)
```


## Concatenate process title and description. and re run the word cloud, how many many of this are classified on server?

## Bi-gram and Tri-gram frequency 

## Level 30 code

##




